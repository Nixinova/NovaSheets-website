function e(e,t=new i.default){var r,n;const a=String.raw,s=e=>e.replace(/^\s*(.+?)\s*$/,"$1").replace(/\s+/g," "),l=e=>e.replace(/[.*+?^/${}()|[\]\\]/g,"\\$&"),o=a`(?:\d*\.?\d+|\d+\.)`,d=a`(?:-?(?:0x[0-9a-f]*\.?[0-9a-f]+|0b[01]*\.?[01]+|0o[0-7]*\.?[0-7]+|${o}))`,u=a`\s*(?:em|rem|en|ex|px|pt|pc|ft|in|s|ms|cm|mm|m)\b`,p=(()=>{const e=a`\(\s*`,t=a`\s*\)`,r=a`(?:-?${d}(?:${u})?)`,n=a`(?:(?:[-^*/+]+\s*)+(?=\d|\.))`,s=a`(?:(?:${`(?:${e}${r}${t}|${r})`}\s*${n}\s*)+${r})`;return a`\(\s*${s}\s*\)|${s}`})(),$=e=>N.KEEP_NAN?+e:isNaN(+e)?0:+e,g=(e,t,r={})=>{if(RegExp(p).test(b))return;const n=Array.from(b.match(RegExp(a`\$\(\s*(?:${e})\b`,"i"))||[]);if(0===n.length)return;const s=b.substr(b.indexOf(n[0]));let l="",c=0,i=!1;for(let e=0;e<s.length&&(l+=s[e],c>0&&(i=!0),"("===s[e]&&c++,")"===s[e]&&c--,!i||0!==c);e++)if(e===s.length-1&&c>0)return;if(!l.trim())return;const o=!1===r.trim?/^\$\(|\)$/:/^\$\(\s*|\s*\)$/g,d=!1===r.trim?"|":/\s*\|\s*/;let u=l.replace(o,"").split(d);for(let e=0;e<N.MAX_ARGUMENTS;e++)u[e]||(u[e]="");if(!r.allArgs)for(let e=+N.MAX_ARGUMENTS;e>0;e--)if(u[+e]){u=u.slice(0,e+1);break}u[0]=l,b=b.replace(l,t(...u))};let h=e.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/(?<![a-z]:)\n?\/\/.*$/gm,"").replace(/(?:@var.+?=.*$|@var\s*[^=]*(?=\n\s*@var\s.))(?!\n\s*@endvar)/gm,"$& @endvar").replace(/@(var|const|endvar)/g,"\n$&").replace(/@option\s*[A-Z_]+\s*(true|false|[0-9]+)|@endvar/g,"$&\n").replace(/}}/g,"} }").replace(/;(\s*)@/g,";$1&@"),f=[],m=[],E=h.split("\n"),b=h.replace(/\s*(?:@var.*?((?=@var)|@endvar)|@endvar|@option\s*[A-Z_]+\s*(true|false|[0-9]+))/gms," ").replace(/\/\*(.+?)\*\//gs,((e,t)=>e.startsWith("/*[")&&e.endsWith("]*/")?e.replace(/^\/\*\[(.+)\]\*\/$/,"/*$1*/"):e.startsWith("/*/")||e.endsWith("/*/")?e:(f.indexOf(t)<0&&f.push(t),"/*COMMENT#"+f.indexOf(t)+"*/"))).replace(/\/\*\/(.+?)\/\*\//gs,((e,t)=>(m.indexOf(t)<0&&m.push(t),"/*STATIC#"+m.indexOf(t)+"*/"))),M={},N={BUILTIN_FUNCTIONS:!0,DECIMAL_PLACES:!1,KEEP_NAN:!1,KEEP_UNPARSED:!1,MAX_ARGUMENTS:10,MAX_MATH_RECURSION:5,MAX_RECURSION:50};for(let e in E){let t;if(E[e].match(/^\s*@var\s/)){let t=E[e].replace(/^\s*@var\s/,"").split("="),r=E.slice(+e),n;for(let e in r)if(r[e].match(/^\s*@endvar\s*$|^\s*@var\s/)&&0!=+e){n=+e;break}let s=t[0].trim().split("|")[0].trim();const l=t.slice(1).join("=")||"",c=r.slice(1,n).join("\n"),i=new RegExp(a`\$\(\s*${s}\s*\)`,"g");let o=(l+c).trim().replace(i,M[s]||"");M[s]=o}else if(E[e].match(t=/^\s*@option\s+/)){let[r,n]=E[e].replace(t,"").split(/\s+/);const a=e=>"0"!==e&&"false"!==e;switch(r.toUpperCase()){case"BUILTIN_FUNCTIONS":N.BUILTIN_FUNCTIONS=a(n);break;case"DECIMAL_PLACES":N.DECIMAL_PLACES="false"!==n&&+n;break;case"KEEP_NAN":N.KEEP_NAN=a(n);break;case"KEEP_UNPARSED":N.KEEP_UNPARSED=a(n);break;case"MAX_ARGUMENTS":N.MAX_ARGUMENTS=parseInt(n);break;case"MAX_MATH_RECURSION":N.MAX_MATH_RECURSION=parseInt(n);break;case"MAX_RECURSION":N.MAX_RECURSION=parseInt(n)}}}const A=Math.random().toString(36).substr(2),S=()=>b.includes("$(")||RegExp(p).test(b);for(let e=0,i;(e<1||e<N.MAX_RECURSION&&S())&&i!==b;e++){i=b,b=b.replace(RegExp(a`(?<!#|\w)(${o})\s*e\s*([+-]?${o})`,"gi"),((e,t,r)=>String(+t*10**+r))).replace(/((?:rgba?|hsla?)\(.+?[\s\d%]+)\/([\s\d%]+\))/g,((e,t,r)=>t+A+r));for(let e=0;e<N.MAX_MATH_RECURSION&&b.match(RegExp(p));e++)b=b.replace(RegExp(p,"g"),(e=>{const t=/\d\s+-\d/.test(e),r=!/[-+^*/]/.test(e),n=e.match(RegExp(a`${u}\s-?${d}`));if(t||r||n)return e;let s=Array.from(e.match(RegExp(u,"g"))||[]),l=s.pop()||"",c=e.replace(RegExp(a`(${o})\s*(${u})`,"g"),((e,t,r)=>{switch(r){case"mm":case"ms":return l=r[1],String(($(t)||0)/1e3);case"cm":return l="m",String(($(t)||0)/100);case"in":return l="m",String(.0254*($(t)||0));case"ft":return l="m",String(.3048*($(t)||0));default:return e}})).replace(RegExp(u,"g"),"").replace(/-\s*-|\+\s*\+/g,"+").replace(/\^/g,"**");try{return eval(c)+l}catch(e){return c+l}}));for(let e in M)g(e,((t,...r)=>{let n=M[e];for(const e in r){if(!r[e])continue;const t=r[e].split("="),l=t[1]?s(t[0]):(+e+1).toString(),c=t[1]?s(t[1]):s(t[0]);n=n.replace(RegExp(a`\$\[${l}[^\]]*\]`,"g"),c)}return n=n.replace(/\$\[.*?(?:\|([^\]]*))?\]/g,"$1"),n}));let e=[];N.BUILTIN_FUNCTIONS&&e.push(...c.default({constants:N})),e.push(...null!==(r=null==t?void 0:t.getFunctions())&&void 0!==r?r:[]);for(const t of e)g(t.name,t.body);let h="",f=[{name:"Root",content:"",body:[]}],m=[],E="";b=b.replace(/@(import|charset|namespace)(.+?);/g,(e=>(E+=e,"")));for(let e=0;e<b.length;e++){const t=b[e],r=/[\w-]+:[^;]+;/g,a=/[^;]+$/;let s=f[f.length-1];if("{"===t){if(!h)continue;let e=h.replace(r,"").trim(),t=h.replace(a,"").trim();t&&s.body.push({name:"Style",content:t,body:[]});const l=(null===(n=m.slice(-1)[0])||void 0===n?void 0:n.replace(/\/\*.+?\*\//g,""))||"";e=e.includes("&")?e.replace(/&/g,l).trim():l.split(",").map((t=>t+" "+e)).join(","),m.push(e.trim().replace(/\s+/g," "));let c={name:"Block",content:e,body:[]};s.body.push(c),s=c,f.push(s),h=""}else if("}"===t){if(f.length<1||!h)continue;m.pop(),s=f.pop(),h.trim()&&s.body.push({name:"Style",content:h.trim(),body:[]}),h=""}else h+=t}const S=/[^{}]+{[^{}]*}/gs;for(;S.test(b);)b=b.replace(S,"");let x=[];const R=e=>{if(e)for(const t of e.body)"Style"===t.name?x.push({name:e.name,content:e.content,body:[t]}):R(t)};R(f[0]);let v="";for(const e of x)v+=e.content+" {"+e.body[0].content+"}";let F=E+v+b;const I=a`@media[^{}]+(?:\([^()]+?\))+`;b=F.replace(RegExp(a`(${I})\s*(?:{})?(?=\s*@media)`,"g"),"").replace(RegExp(a`(${I})\s*([^{}]+){([^{}]+)}`,"g"),"$1 { $2 {$3} }");let C={};v.replace(/([^{}]+)({.+?})/gms,((e,t,r)=>(t.includes("$(")||t.startsWith("@")||(t=t.replace(/\$(<.+?>){1,2}/g,""),C[l(t.trim())]=r),"")));for(let e in C)b=b.replace(new RegExp(a`\$<\s*${e}\s*>`),C[e]||"{}");b=b.replace(/\$<.+?>/g,"{}"),b=b.replace(/{([^{}]*?)}\s*<([^[\]]*?)>/gm,((e,t,r)=>{const n=t.split(/\s*;\s*/);for(const e of n){const[t,n]=e.split(/\s*:\s*/);if(t.trim()===r.trim())return n||""}return""})),b=b.replace(/{([^{}]*?)}\s*!/gm,((e,t)=>t)),b=b.replace(/([^{};]*?)\s*@\s*(?:(\d+px)(?:\s*\.{2,})?(\s*\d+px)?|(\d+px)?(?:\s*\.{2,})?(\s*\d+px))([^{}]*?){(.*?)}/gms,((e,t,r,n,s,l,c,i)=>{let[o,d]=[r||s,n||l],u=a`@\s*(\d+px)?\s*(?:\.{2,})?\s*(\d+px)?`,p=c.match(RegExp(u,"g"));p&&([,o,d]=p[p.length-1].match(RegExp(u)));let $=(t+c).replace(RegExp(u,"g"),""),g=[];return o&&g.push(`(min-width: ${o})`),d&&g.push(`(max-width: ${d.replace(/\d+/,(e=>+e-1))})`),`@media ${g.join(" and ")} { ${$} { ${i} } }`}))}if(!N.KEEP_UNPARSED){b=b.replace(/@endvar/g,"");let e=b.match(/\$[[(](.+?)[\])]/g)||[];for(const t of e){let e=s(t.replace(/\$[[(](.*?)(\|.*)?[\])]/,"$1"));b=b.replace(t,"");let r=t.includes("$(")?"variable":"argument";console.log(`<NovaSheets> Instances of unparsed ${r} '${e}' have been removed from the output.`)}}b=b.replace(/(\s*;)+/g,";").replace(/(?<!^ *) +/gm," ").replace(/}\s*/g,"}\n").replace(/}\s*}/g,"} }").replace(/(?<![1-9]+)(0\.\d+)\s*(m|s)/,((e,t,r)=>1e3*+t+"m"+r)).replace(/(?<=\d)0\s*mm/g,"cm").replace(/(?<=\d)(000\s*mm|00\s*cm)/g,"m").replace(/\.?0{10,}\d/g,"").replace(/((\d)\2{9,})\d/g,"$1").replace(/(\d+)([5-9])\2{10,}\d?(?=\D)/g,((e,t)=>String(+t+1))).replace(/\d*\.?\d+e-(?:7|8|9|\d{2,})/,"0").replace(RegExp(a`((\d)\.\d{0,${N.DECIMAL_PLACES}})(\d?)\d*`),((e,t,r,n)=>{const a=/[5-9]$/.test(n);return 0===N.DECIMAL_PLACES?a?parseInt(r)+1:r:a?t.replace(/.$/,"")+(parseInt(t.substr(-1))+1):t})).replace(/calc(\d)/g,"$1").replace(new RegExp(A,"g"),"/");for(const e in m)b=b.replace(RegExp(a`\/\*STATIC#${e}\*\/`,"g"),s(m[e]));for(const e in f)b=b.replace(RegExp(a`\/\*COMMENT#${e}\*\/`,"g"),"/*"+f[e]+"*/");return b.trim()+"\n"}function t({constants:e}){const t=new("undefined"!=typeof require?require("./novasheets"):i.default),r=e=>e.replace(/[.*+?^/${}()|[\]\\]/g,"\\$&"),n=e=>e.toString().replace(/^\s*(.+?)\s*$/,"$1").replace(/\s+/g," "),a=String.raw;t.addFunction("@each",((e,t="",r="",a="",...s)=>{let l=s.join("|"),[c,i,o,d]=l?[t,r,a,l]:a?[t,r,r,a]:[t,",",",",r],u=n(c).split(n(i)),p=[];for(let e in u){let t=n(d).replace(/\$i/gi,String(+e+1)).replace(/\$v\[([0-9]+)([-+*/][0-9]+)?\]/g,((e,t,r)=>u[+t-1+(r||0)])).replace(/.?\s*undefined/g,"").replace(/\$v/gi,u[e]);p.push(t)}return p.join(o)}),{trim:!1,allArgs:!0}),t.addFunction("@repeat",((e,t,...r)=>{let[n,a]=r[1]?[r[0],r.slice(1).join("|")]:["",r.join("|")],s="";for(let e=0;e<+t;e++)s+=(e>0?n:"")+a.replace(/\$i/gi,(+e+1).toString());return s}),{trim:!1,allArgs:!0});const s=a`(?:[0-9]*\.?[0-9]+)`,l=a`(?:0x[0-9a-f]*\.?[0-9a-f]+|0b[01]*\.?[01]+|0o[0-7]*\.?[0-7]+|${s})`,c=t=>e.KEEP_NAN?+t:Number.isNaN(t)?0:parseFloat(t+""),o=(t,r)=>{let n=!t||t===1/0||Number.isNaN(t);return n&&e.KEEP_NAN?"NaN":n&&!e.KEEP_NAN?r||0:Math.abs(+t)<=1e-7?0:+t};t.addFunction("@e",(()=>Math.E)),t.addFunction("@pi",(()=>Math.PI)),t.addFunction("@mod",((e,t,r)=>o(c(t)%c(r),t))),t.addFunction("@sin",((e,t)=>o(Math.sin(c(t)),t))),t.addFunction("@asin",((e,t)=>o(Math.asin(c(t)),t))),t.addFunction("@cos",((e,t)=>o(Math.cos(c(t)),t))),t.addFunction("@acos",((e,t)=>o(Math.acos(c(t)),t))),t.addFunction("@tan",((e,t)=>o(Math.tan(c(t)),t))),t.addFunction("@atan",((e,t)=>o(Math.atan(c(t)),t))),t.addFunction("@abs",((e,t)=>o(Math.abs(c(t)),t))),t.addFunction("@floor",((e,t)=>o(Math.floor(c(t)),t))),t.addFunction("@ceil",((e,t)=>o(Math.ceil(c(t)),t))),t.addFunction("@percent",((e,t)=>o(100*c(t),t)+"%")),t.addFunction("@log",((e,t,r)=>o(Math.log(+r)/(t?Math.log(+t):1),r))),t.addFunction("@root",((e,t,r)=>o(Math.pow(c(r)?c(r):c(t),1/(c(r)?c(t):2)),r))),t.addFunction("@round",((e,t,r)=>{let n=c(t)+Number.EPSILON,a=Math.pow(10,c(r)||0);return o(Math.round(n*a)/a,t)})),t.addFunction("@min|@max",((e,...t)=>{let r=[];for(let e of t)e&&r.push(+e);let n=Math[e.includes("@min")?"min":"max"](...r);return o(n,"0")})),t.addFunction("@clamp",((e,t,r,n)=>{let[a,s,l]=[c(t),c(r),c(n)];return l<s&&([s,l]=[l,s]),o(a<=s?s:a>=l?l:a,t)})),t.addFunction("@degrees|@radians|@gradians",((e,t)=>{let r=+t.replace(/[a-z]+/,""),n=t.replace(RegExp(s),""),a=c(t);return e.includes("@degrees")?a="grad"===n?.9*r:r/Math.PI*180:e.includes("@radians")?a="grad"===n?r*Math.PI/200:+r*Math.PI/180:e.includes("@gradians")&&(a="rad"===n?r/Math.PI*200:r/.9),o(a,t)})),t.addFunction("@lowercase",((e,t)=>t.toLowerCase())),t.addFunction("@uppercase",((e,t)=>t.toUpperCase())),t.addFunction("@titlecase",((e,t)=>t.replace(/\b\w/g,(e=>e.toUpperCase())))),t.addFunction("@capitali[sz]e",((e,t)=>t[0].toUpperCase()+t.substr(1))),t.addFunction("@uncapitali[sz]e",((e,t)=>t[0].toLowerCase()+t.substr(1))),t.addFunction("@extract",((e,t,r,n)=>t.split(n?r:",")[Number(n||r)-1]||"")),t.addFunction("@encode",((e,t)=>encodeURIComponent(t))),t.addFunction("@length",((e,t)=>n(t).length)),t.addFunction("@replace",((e,...t)=>{var a;t.length<3&&(t=[t[0],t[1]||"",t[2]||""]),t=t.slice(0,t.indexOf("")<=3?3:t.indexOf(""));let s=n(t[0]),l=n(t.slice(1,-1).join("|")),c=n(t.slice(-1)[0]),i=l.startsWith("/"),o=RegExp("");if(i){let e=(null===(a=n(l).match(/\/(.+?)\/([gimusy]*)/))||void 0===a?void 0:a.slice(1))||[];o=RegExp(e[0],e[1]||"s")}return s.replace(i?o:RegExp(r(l),"g"),c)}),{trim:!1,allArgs:!0});const d=e=>Math.floor(+e/255*100),u=e=>Math.ceil(255*Number(e.replace("%",""))/100),p=e=>Number(e).toString(16).padStart(2,"0"),$=(e,t)=>{let r=parseInt(e.replace(/#?(.{0,8})$/,"$1"),16),n=r>>16&255,a=r>>8&255,s=255&r,l=t?d(parseInt(t,16)):null;return null===l?`rgb(${n}, ${a}, ${s})`:`rgba(${n}, ${a}, ${s}, ${l})`},g=e=>{let t=e.replace("#","");switch(t.length){case 0:return $("000000","00");case 1:return $(t.repeat(6));case 2:return $(t[0].repeat(6),t[1].repeat(2));case 3:return $(t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);case 4:return $(t[0]+t[0]+t[1]+t[1]+t[2]+t[2],t[3]+t[3]);default:return $(t.substr(0,6).padEnd(6,"0"),t.substr(6,2)||void 0)}},h=e=>e.replace(/^\s*\w{3}a?\s*\(\s*|\s*\)$/g,"").split(/,\s*/),f=e=>{let t=h(e.startsWith("#")?g(e):e);for(let r in t){let n=t[r];t[r]?t[r].includes("%")?(n=n.replace("%",""),e.includes("hsl")?t[r]=Math.round(+n/100*(0==+r?360:100)).toString():t[r]=u(n).toString()):3==+r&&(t[r]=Math.round(e.includes("rgb")?+n/255:+n/100).toString()):t[r]="0"}return t},m=e=>{let[t,r,n,a]=Array.isArray(e)?e:f(e);return"#"+p(t)+p(r)+p(n)+(c(a)>0?p(a):"")},E=(e,t,r)=>{var n;if(!t)return e||"";let a=(null===(n=e.match(/^[a-z]{3}a?|^#/))||void 0===n?void 0:n.toString())||"",s=r.includes("%")?+r.replace("%","")/100:+r;s=Math.min(Math.abs(s),1);const l=(e,t)=>Math.floor(c(e)*(1-s)+c(t)*s);let[[i,o,d,u],[p,$,g,h]]=[f(e),f(t)],[E,b,M,N]=[l(i,p),l(o,$),l(d,g),l(u,h)];switch(a){case"rgba":return`rgba(${E}, ${b}, ${M}, ${N})`;case"rgb":return`rgb(${E}, ${b}, ${M})`;case"hsla":return`hsla(${E%360}, ${b/100}%, ${M/100}%, ${N})`;case"hsl":return`hsla(${E%360}, ${b/100}%, ${M/100}%)`;case"#":return m([E,b,M,N]);default:return`${a}(${E}, ${b}, ${M})`}},b=(e,t,r,n)=>{var a;if(!t.includes("hsl"))return E(t,r,n||"50%");let[s,l,c,i]=f(t),o=+n.replace("%",""),d=+c+o*("darken"===e?-1:1),u="desat"===e?`${+l-o}%, ${c}%`:`${l}%, ${d<0?0:d}%`;return`${(null===(a=t.match(/^hsla?/))||void 0===a?void 0:a.toString())||"hsl"}(${+s%360}, ${u}${i?`, ${i}`:""})`};t.addFunction("@colou?r",((e,t,r="0",n="0",a="0",s="")=>{switch(/#|rgba?|hsla?/i.test(r)?(r.includes("#")&&(r=g(r)),/rgba?|hsla?/.test(r)&&([r,n,a,s]=f(r))):[r,n,a,s]=f(`${t}(${r}, ${n}, ${a}, ${s})`),t=t.toLowerCase()){case"#":case"hash":case"hex":case"hexadecimal":return"#"+p(r)+p(n)+p(a)+(s?p(u(s)):"");case"rgb":return`rgb(${r}, ${n}, ${a})`;case"rgba":return`rgba(${r}, ${n}, ${a}, ${s||0==+s?100:""}%)`;case"hsl":return`hsl(${c(r)%360}, ${n}%, ${a}%)`;case"hsla":return`hsla(${c(r)%360}, ${n}%, ${a}%, ${s||0==+s?100:""}%)`;default:return`${t}(${r} ${n} ${a}${s?` / ${s}`:""})`}})),t.addFunction("@colou?rpart",((e,t="",r="")=>{let[n,a]=[t.toLowerCase(),r.toLowerCase()],s=f(a);return{r:s[0],h:s[0],g:s[1],s:s[1],b:s[2],l:s[2],a:s[3]}[n[0]]||a})),t.addFunction("@spin",((e,t,r)=>{let n=t.replace(/^hsla?\s*\((\d+),\s*.+\s*\)\s*$/g,"$1"),a=((+n+ +r)%360).toString();return t.replace(n,a)})),t.addFunction("@blend",((e,t,r,n)=>E(t,r,n||"50%"))),t.addFunction("@tint|@lighten",((e,t,r)=>b("lighten",t,"#fff",r||"50%"))),t.addFunction("@shade|@darken",((e,t,r)=>b("darken",t,"#000",r||"50%"))),t.addFunction("@tone|@desaturate",((e,t,r)=>b("desat",t,"#808080",r||"50%")));const M=(e,t)=>{if(!e.startsWith("rgb")&&!e.startsWith("#"))return+e;let[r,n,a]=t?[...t]:f(e);const s=e=>e<=.03928?e/12.92:(e=>((e+.055)/1.055)**2.4)(e);return.2126*s(+r/255)+.7152*s(+n/255)+.0722*s(c(a)/255)};t.addFunction("@luma",((e,t)=>M(t))),t.addFunction("@contrast",((e,t,r="",n="")=>M(t)<.5?r:n)),t.addFunction("@gr[ae]yscale",((e,t)=>{if(t.startsWith("hsl"))return t.replace(/^(hsla?)\s*\(\s*(\d+),\s*(\d+)/,"$1($2, 0");let r=Math.round(255*M(t)),n=`rgb(${Array(3).fill(r).join(", ")})`;return t.startsWith("#")?m(n):n}));const N=a`(?:\(\s*${l}\s*\)|${l})`,A=e=>RegExp(a`([+-]?${N})\s*(?:${e})\s*([+-]?${N})`),S=t=>{if(!/^([<>=!&|()-\d\s]|true|false|undefined|null|NaN|x?n?or|n?and)+$/.test(t))return t;for(let r=0;r<e.MAX_ARGUMENTS;r++)t=n(t).replace(/(?:'(.+?)'|"(.+?)")+/,"$1$2").replace(/\bor\b/gi,"||").replace(/\band\b/gi,"&&").replace(/\bnot\b/gi,"!").replace(/(.+?)\bnor\b(.+)?/gi,"!($1) && !($2)").replace(/(.+?)\bnand\b(.+)?/gi,"!($1) || !($2)").replace(/(.+?)\bxor\b(.+)?/gi,"($1 && !($2)) || (!($1) && $2)").replace(/(.+?)\bxnor\b(.+)?/gi,"$1 == $2").replace(/(?!=)(!?)=(==)?(?!=)/g,"$1$2==");return/(<|<=|>|>=|==|!=|&|!|\|)/.test(t)&&(t=eval(t)),["false","undefined","null","NaN",""].includes(t)&&(t="false"),t};return t.addFunction("@bitwise",((t,r)=>{let n=r;for(let t=0;t<e.MAX_ARGUMENTS;t++)n=n.replace(RegExp(a`(?:~|!|not)\s*([+-]?${N})`),((e,t)=>eval("~"+c(t)))).replace(A("or|\\|"),((e,t,r)=>eval(`(${c(t)}) | (${c(r)})`))).replace(A("nor"),((e,t,r)=>eval(`~ (${c(t)}) | (${c(r)})`))).replace(A("and|&"),((e,t,r)=>eval(`(${c(t)}) & (${c(r)})`))).replace(A("nand"),((e,t,r)=>eval(`~ (${c(t)}) & (${c(r)})`))).replace(A("xor"),((e,t,r)=>eval(`(${c(t)}) ^ (${c(r)})`))).replace(A("xnor"),((e,t,r)=>eval(`~ (${c(t)}) ^ (${c(r)})`)));return n})),t.addFunction("@boolean",((e,...t)=>S(t.join("|")))),t.addFunction("@if",((e,t,r="",n="")=>S(t)?r:n)),t.addFunction("@breakpoint",((e,t="0",r="",n="",a="")=>{if(!t)return e;const s=(e,t,r)=>`@ ${"min"===e?`${t}..`:`..${t}`} { ${r} }`;let l=(r+n).includes("{"),c=l?[r,n]:[`${r} {${n}} `,`${r} {${a}} `],i=(l?r:n).trim()?s("max",t,c[0]):"",o=(l?n:a).trim()?s("min",t,c[1]):"";return i+(i&&o?"\n":"")+o}),{trim:!1}),t.addFunction("@prefix",((e,t,r)=>`-webkit-${t}: ${r}; -moz-${t}: ${r}; -ms-${t}: ${r}; -o-${t}: ${r}; ${t}: ${r};`)),t.getFunctions()}class r{constructor(){this.functions=[]}static parse(e="",t=new r){return s.default(e,t)}static compile(e,t="",n=new r){return l.default(e,t,n)}addFunction(e,t,r={}){return this.functions.push({name:e,body:t,options:r}),this}getFunctions(){return this.functions}}function parseNovaSheets(e="",t){if(e)return s.default(e,t);const r=(e,t=8)=>{let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t);return Math.abs(r).toString(16).substring(0,t).padStart(t,"0")},{stylesheetContents:a,sources:l}=n(e);for(let e in a){const n=s.default(a[e],t);if(document.querySelectorAll(`[data-hash="${r(n)}"]`).length)return;let c=document.createElement("style");c.innerHTML="\n"+n.trim()+"\n",c.dataset.hash=r(n),c.dataset.source=l[e],(document.head||document.body).appendChild(c)}}function n(e=""){if(e)return{stylesheetContents:[e],sources:["raw"]};let t=[],r=[],n=Array.from(document.querySelectorAll('link[rel="novasheet" i], link[rel="novasheets" i]')),a=Array.from(document.querySelectorAll('[type="novasheet" i], [type="novasheets" i]')),s={full:[],rel:[]};for(let e of n)s.full.push(e.href),s.rel.push(e.href);for(let e in s.full){let n=new XMLHttpRequest;n.open("GET",s.full[e],!1),n.send(),t.push(n.responseText),r.push(s.rel[e])}for(let e of a){let n=e instanceof HTMLInputElement&&e.value||e.innerHTML||e.innerText;t.push(n.replace(/^\s*`|`\s*$/,"")),r.push("inline")}return{stylesheetContents:t,sources:r}}function a(){}const s={default:e},l={default:a},c={default:t},i={default:r};document.addEventListener("DOMContentLoaded",(()=>parseNovaSheets()));